"use strict";(self.webpackChunkreact_peel=self.webpackChunkreact_peel||[]).push([["730"],{7412:function(t,e,n){n.d(e,{Pz:()=>d,oy:()=>a,ZI:()=>u,rO:()=>l});var o=n(5893),i=n(7294);let r={TOP_LEFT:0,TOP_RIGHT:1,BOTTOM_LEFT:2,BOTTOM_RIGHT:3},s={stickyNote:{name:"Sticky Note",description:"Small corner curl effect like a sticky note",options:{topShadow:!0,topShadowBlur:3,topShadowAlpha:.3,backShadow:!0,backShadowSize:.08,backShadowAlpha:.15,bottomShadow:!0,bottomShadowSize:.8,bottomShadowDarkAlpha:.4,bottomShadowLightAlpha:.1},corner:"BOTTOM_RIGHT"},pageFlip:{name:"Page Flip",description:"Book-like page turn with spine constraint",options:{topShadow:!0,topShadowAlpha:.4,backReflection:!1,backShadow:!0,backShadowSize:.06,backShadowDistribute:!1,bottomShadow:!0,bottomShadowDistribute:!1},corner:"BOTTOM_RIGHT",mode:"book"},revealCard:{name:"Reveal Card",description:"Scratch-off style reveal animation",options:{topShadow:!0,topShadowBlur:8,topShadowAlpha:.6,backReflection:!0,backReflectionAlpha:.2,backShadow:!0,backShadowSize:.1,bottomShadow:!0,bottomShadowDarkAlpha:.8},corner:"BOTTOM_RIGHT"},calendar:{name:"Calendar",description:"Top-edge constrained calendar flip",options:{topShadow:!0,topShadowAlpha:.5,backShadow:!0,backShadowSize:.05,bottomShadow:!0,bottomShadowDistribute:!0},corner:"BOTTOM_RIGHT",mode:"calendar"},envelope:{name:"Envelope",description:"Envelope flap opening animation",options:{topShadow:!0,topShadowBlur:4,topShadowAlpha:.35,backReflection:!1,backShadow:!0,backShadowSize:.04,bottomShadow:!0,bottomShadowDarkAlpha:.3},corner:"TOP_RIGHT",constraints:["TOP_LEFT"]},giftCard:{name:"Gift Card",description:"Dramatic reveal with shiny reflection",options:{topShadow:!0,topShadowBlur:6,topShadowAlpha:.5,backReflection:!0,backReflectionAlpha:.35,backReflectionSize:.04,backShadow:!0,backShadowSize:.08,bottomShadow:!0,bottomShadowDarkAlpha:.7,bottomShadowLightAlpha:.15},corner:"BOTTOM_RIGHT"},photoAlbum:{name:"Photo Album",description:"Smooth page turn for photo galleries",options:{topShadow:!0,topShadowBlur:5,topShadowAlpha:.45,backReflection:!0,backReflectionAlpha:.1,backShadow:!0,backShadowSize:.05,backShadowDistribute:!1,bottomShadow:!0,bottomShadowDistribute:!1},corner:"BOTTOM_RIGHT",mode:"book"},scratchCard:{name:"Scratch Card",description:"Lottery ticket scratch-off effect",options:{topShadow:!0,topShadowBlur:2,topShadowAlpha:.4,backReflection:!0,backReflectionAlpha:.25,backReflectionSize:.03,backShadow:!0,backShadowSize:.06,bottomShadow:!0,bottomShadowDarkAlpha:.6},corner:"BOTTOM_RIGHT"}},a=(0,i.forwardRef)(function(t,e){let{children:n,options:a={},containerProps:p,...l}=t,u=(0,i.useRef)(null),d=(0,i.useRef)(null),f=(0,i.useRef)(0),g=(0,i.useRef)(!1),y=(0,i.useRef)(!1);c();let w=JSON.stringify(a),b=i.useMemo(()=>l.preset?{...s[l.preset].options,...a}:a,[l.preset,w]),m=i.useMemo(()=>l.corner?l.corner:l.preset?s[l.preset].corner:void 0,[l.corner,l.preset]),S=i.useMemo(()=>l.mode?l.mode:l.preset?s[l.preset].mode:void 0,[l.mode,l.preset]),v=(0,i.useCallback)(()=>{if(!d.current||!l.onPeelProgress)return;let t=d.current.getAmountClipped();t!==f.current&&(l.onPeelProgress(t,d.current),f.current=t)},[l.onPeelProgress]),P=(0,i.useCallback)(()=>{if(!g.current&&d.current){var t;g.current=!0,null==(t=l.onPeelStart)||t.call(l,d.current)}},[l.onPeelStart]),O=(0,i.useCallback)(()=>{if(g.current&&d.current){let e=d.current.getAmountClipped();if(e>=.99||e<=.01){var t;g.current=!1,null==(t=l.onPeelEnd)||t.call(l,d.current)}}},[l.onPeelEnd]);function k(t){var e,n;h(t)?null==(e=d.current)||e.addPeelConstraint(function(t){return r[t]}(t)):Object.prototype.hasOwnProperty.call(t,"x")&&Object.prototype.hasOwnProperty.call(t,"y")&&(null==(n=d.current)||n.addPeelConstraint(t.x,t.y))}return(0,i.useEffect)(()=>{if(!y.current&&u.current)return y.current=!0,function(){if(!u.current)return;let t=new(function(){var t,e,n,o,i,s,a=["webkit","moz",""],h=document.documentElement,p=h.style;function c(t){for(var e,n,o,i=0;i<a.length;i++){if((o=(n=a[i])?n+((e=t).slice(0,1).toUpperCase()+e.slice(1)):t)in p)return o}}function l(t){return Math.round(100*t)/100}function u(t){return Math.max(0,Math.min(1,t))}function d(t){return"peel-"+t}function f(t,e){t.style[n]=e}function g(t,e,n,o,i){return l(t)+"px "+l(e)+"px "+l(n)+"px "+(o?l(o)+"px ":"")+"rgba(0,0,0,"+l(i)+")"}function y(t,e){t.style.opacity=e}function w(t,e,n){var o;s&&(o=0===n.length?"none":"linear-gradient("+l(e)+"deg,"+n.join(",")+")",t.style.backgroundImage=o)}function b(t,e,n,o){t.addEventListener(e,n,o)}function m(t,e,n){t.removeEventListener(e,n)}function S(t,e){var n=t.changedTouches?t.changedTouches[0]:t;return{x:n.clientX-e.getBoundingClientRect().left,y:n.clientY-e.getBoundingClientRect().top}}function v(t,e){return O(0,0,0,t,e)}function P(t,e){return O(255,255,255,t,e)}function O(t,e,n,o,i){return"rgba("+t+","+e+","+n+","+(o=l(u(o)))+") "+l(100*i)+"%"}function k(t,e){return"string"==typeof t&&(t=(e||document).querySelector(t)),t}function E(t,e){t.classList.add(e)}function C(t,e,n){e=e||h;var o=document.createElementNS("http://www.w3.org/2000/svg",t);for(var i in e.appendChild(o),n)Object.prototype.hasOwnProperty.call(n,i)&&T(o,i,n[i]);return o}function T(t,e,n){t.setAttributeNS(null,e,n)}function L(t,e){this.setOptions(e),this.el=k(t,h),this.constraints=[],this.events=[],this.dragHandlers=[],this.clipPaths=[],this.createdElements=[],this.setupSvgElement(),this.setupLayers(),this.setupDimensions(),this.setCorner(this.getOption("corner")),this.setMode(this.getOption("mode")),this.init()}function x(t,e,n){this.el=t,this.defs=n,this.shape=x.createClipPath(t,e||{type:"polygon"},n),f(this.el,"translate(0px,0px)")}function R(t,e){this.center=t,this.radius=e}function A(){this.points=[]}function D(t,e,n,o){this.p1=t,this.c1=e,this.p2=o,this.c2=n}function B(t,e){this.p1=t,this.p2=e}function M(t,e){this.x=t,this.y=e}return L.Corners=r,L.Defaults={topShadow:!0,topShadowBlur:5,topShadowAlpha:.5,topShadowOffsetX:0,topShadowOffsetY:1,topShadowCreatesShape:!0,backReflection:!1,backReflectionSize:.02,backReflectionOffset:0,backReflectionAlpha:.15,backReflectionDistribute:!0,backShadow:!0,backShadowSize:.04,backShadowOffset:0,backShadowAlpha:.1,backShadowDistribute:!0,bottomShadow:!0,bottomShadowSize:1.5,bottomShadowOffset:0,bottomShadowDarkAlpha:.7,bottomShadowLightAlpha:.1,bottomShadowDistribute:!0,setPeelOnInit:!0,clippingBoxScale:4,flipConstraintOffset:5,dragPreventsDefault:!0},L.prototype.setCorner=function(){var t=arguments;void 0===t[0]?t=[L.Corners.BOTTOM_RIGHT]:t[0].length&&(t=t[0]),this.corner=this.getPointOrCorner(t)},L.prototype.setMode=function(t){"book"===t?(this.addPeelConstraint(L.Corners.BOTTOM_LEFT),this.addPeelConstraint(L.Corners.TOP_LEFT),this.setOption("backReflection",!1),this.setOption("backShadowDistribute",!1),this.setOption("bottomShadowDistribute",!1)):"calendar"===t&&(this.addPeelConstraint(L.Corners.TOP_RIGHT),this.addPeelConstraint(L.Corners.TOP_LEFT))},L.prototype.setPeelPath=function(t,e){var n,o,i,r,s=arguments;n=new M(t,e),4===s.length?(o=new M(s[2],s[3]),this.path=new B(n,o)):8===s.length&&(i=new M(s[2],s[3]),r=new M(s[4],s[5]),o=new M(s[6],s[7]),this.path=new D(n,i,r,o))},L.prototype.handleDrag=function(t,e){this.dragHandlers.push(t),this.setupDragEvents(e)},L.prototype.handlePress=function(t,e){this.pressHandler=t,this.setupDragEvents(e)},L.prototype.setupDragEvents=function(t){var e,n,o,i=this;function r(t,r){i.getOption("dragPreventsDefault")&&r.preventDefault(),n=t?"touchmove":"mousemove",o=t?"touchend":"mouseup",b(h,n,s),b(h,o,a),e=!1}function s(t){i.dragHandlers.forEach(e=>{p(e,t)}),e=!0}function a(t){!e&&i.pressHandler&&p(i.pressHandler,t),m(h,n,s),m(h,o,a)}function p(t,e){var n=S(e,i.el);t.call(i,e,n.x,n.y)}this.dragEventsSetup||(t=t||this.el,this.addEvent(t,"mousedown",r.bind(this,!1)),this.addEvent(t,"touchstart",r.bind(this,!0),!!function(){let t=!1;try{let e=Object.defineProperty({},"passive",{get:function(){return t=!0,null}});window.addEventListener("test",null,e)}catch(t){console.warn("Passive event listener not support")}return t}()&&{passive:!0}),this.dragEventsSetup=!0)},L.prototype.removeEvents=function(){this.events.forEach(function(t,e){m(t.el,t.type,t.handler)}),this.events=[]},L.prototype.setupSvgElement=function(){this.svgElement=C("svg",null,{class:d("svg-clip-element")}),this.svgDefs=C("defs",this.svgElement)},L.prototype.removeSvgElement=function(){this.svgElement&&this.svgElement.parentNode&&this.svgElement.parentNode.removeChild(this.svgElement),this.svgElement=null,this.svgDefs=null},L.prototype.clear=function(){this.removeEvents(),this.removeSvgElement()},L.prototype.removeCreatedElements=function(){this.wrappedElements&&(this.wrappedElements.forEach(function(t){if(t.element&&t.parent){var e,n;e=t.element,n=d("shape-layer"),e.classList.remove(n),t.parent.appendChild(t.element)}}),this.wrappedElements=[]),this.createdElements&&(this.createdElements.forEach(function(t){t&&t.parentNode&&t.parentNode.removeChild(t)}),this.createdElements=[])},L.prototype.setTimeAlongPath=function(t){t=u(t);var e=this.path.getPointForTime(t);this.timeAlongPath=t,this.setPeelPosition(e.x,e.y)},L.prototype.setFadeThreshold=function(t){this.fadeThreshold=t},L.prototype.setPeelPosition=function(){var t=this.getPointOrCorner(arguments);(t=this.getConstrainedPeelPosition(t))&&(this.peelLineSegment=this.getPeelLineSegment(t),this.peelLineRotation=this.peelLineSegment.getAngle(),this.setClipping(),this.setBackTransform(t),this.setEffects())},L.prototype.addPeelConstraint=function(){var t=this.getPointOrCorner(arguments),e=this.corner.subtract(t).getLength();this.constraints.push(new R(t,e)),this.calculateFlipConstraint()},L.prototype.setOption=function(t,e){this.options[t]=e},L.prototype.getOption=function(t){return this.options[t.replace(/-(\w)/g,function(t,e){return e.toUpperCase()})]},L.prototype.getAmountClipped=function(){var t;return(this.getTopClipArea()-(t=this.width*this.height))/(0-t)},L.prototype.addEvent=function(t,e,n,o){return b(t,e,n,o),this.events.push({el:t,type:e,handler:n}),n},L.prototype.getTopClipArea=function(){var t=new A;return this.elementBox.forEach(function(e){this.distributeLineByPeelLine(e,t)},this),A.getArea(t.getPoints())},L.prototype.calculateFlipConstraint=function(){var t=this.corner,e=this.constraints.concat();this.flipConstraint=e.sort(function(e,n){return t.y,e.center.y,t.y,n.center.y,e-n})[0]},L.prototype.dragStart=function(t,e,n){},L.prototype.fireHandler=function(t,e){var n=S(t,this.el);e.call(this,t,n.x,n.y)},L.prototype.setClipping=function(){var t=new A,e=new A;this.clippingBox.forEach(function(n){this.distributeLineByPeelLine(n,t,e)},this),this.topClip.setPoints(t.getPoints()),this.backClip.setPoints(e.getPoints())},L.prototype.distributeLineByPeelLine=function(t,e,n){var o=this.peelLineSegment.getIntersectPoint(t);this.distributePointByPeelLine(t.p1,e,n),this.distributePointByPeelLine(o,e,n)},L.prototype.distributePointByPeelLine=function(t,e,n){if(t){var o=this.peelLineSegment.getPointDeterminant(t);o<=0&&e.addPoint(t),o>=0&&n&&n.addPoint(this.flipPointHorizontally(t))}},L.prototype.setOptions=function(t){var e=t||{},n=L.Defaults;for(var o in n)!Object.prototype.hasOwnProperty.call(n,o)||o in e||(e[o]=n[o]);this.options=e},L.prototype.findOrCreateLayer=function(t,e,n){var o,i=d(t),r=k(this.getOption(t+"-element")||"."+i,e);return r||(E(o=document.createElement("div"),i),e.appendChild(o),r=o,this.createdElements.push(r)),E(r,d("layer")),r.style.zIndex=n,r},L.prototype.getPointOrCorner=function(t){return 2===t.length?new M(t[0],t[1]):"number"==typeof t[0]?this.getCornerPoint(t[0]):t[0]},L.prototype.getCornerPoint=function(t){return new M(!!(1&t)*this.width,!!(2&t)*this.height)},L.prototype.getOptionalShape=function(){var t;return["rect","polygon","path","circle"].some(function(e){var n;let o=this.getOption("shape"),i=o&&o[e];return i&&((n={}).attributes=i,n.type=e,t=n),t},this),t},L.prototype.setupLayers=function(){var t=this.getOptionalShape(),e=this.topLayer=this.findOrCreateLayer("top",this.el,2),n=this.backLayer=this.findOrCreateLayer("back",this.el,3);this.bottomLayer=this.findOrCreateLayer("bottom",this.el,1),t?(this.topLayer=this.wrapShapeLayer(this.topLayer,"top-outer-clip"),this.backLayer=this.wrapShapeLayer(this.backLayer,"back-outer-clip"),this.topShapeClip=new x(e,t,this.svgDefs),this.backShapeClip=new x(n,t,this.svgDefs),this.bottomShapeClip=new x(this.bottomLayer,t,this.svgDefs),this.getOption("topShadowCreatesShape")&&(this.topShadowElement=this.setupDropShadow(t,e))):this.topShadowElement=this.findOrCreateLayer("top-shadow",e,1),this.topClip=new x(this.topLayer,null,this.svgDefs),this.backClip=new x(this.backLayer,null,this.svgDefs),this.backShadowElement=this.findOrCreateLayer("back-shadow",n,1),this.backReflectionElement=this.findOrCreateLayer("back-reflection",n,2),this.bottomShadowElement=this.findOrCreateLayer("bottom-shadow",this.bottomLayer,1),this.usesBoxShadow=!t},L.prototype.setupDropShadow=function(t,e){var n=C("svg",e,{class:d("layer")});return C(t.type,n,t.attributes),this.createdElements.push(n),n},L.prototype.wrapShapeLayer=function(t,e){var n=t.style.zIndex;E(t,d("shape-layer"));var o=this.findOrCreateLayer(e,this.el,n);return o.appendChild(t),this.wrappedElements||(this.wrappedElements=[]),this.wrappedElements.push({element:t,parent:this.el}),o},L.prototype.setupDimensions=function(){this.width=this.el.offsetWidth,this.height=this.el.offsetHeight,this.center=new M(this.width/2,this.height/2),this.elementBox=this.getScaledBox(1),this.clippingBox=this.getScaledBox(this.getOption("clippingBoxScale"))},L.prototype.getScaledBox=function(t){var e=t-1,n=new M(-this.width*e,-this.height*e),o=new M(this.width*t,-this.height*e),i=new M(this.width*t,this.height*t),r=new M(-this.width*e,this.height*t);return[new B(n,o),new B(o,i),new B(i,r),new B(r,n)]},L.prototype.getConstrainedPeelPosition=function(t){return this.constraints.forEach(function(e){var n=this.getFlipConstraintOffset(e,t);n&&(e=new R(e.center,e.radius-n)),t=e.constrainPoint(t)},this),t},L.prototype.getFlipConstraintOffset=function(t,e){var n=this.getOption("flipConstraintOffset");if(t===this.flipConstraint&&n){var o=this.corner.subtract(this.center),i=this.corner.subtract(t.center),r=i.getAngle();i.rotate(-r);var s=e.subtract(t.center).rotate(-r);if(o.x*o.y<0&&(s.y*=-1),s.x>0&&s.y>0)return-((s.getAngle()-45)/45)*n}},L.prototype.getPeelLineSegment=function(t){var e=this.corner.subtract(t).scale(.5),n=t.add(e);0===e.x&&0===e.y&&(e=t.subtract(this.center));var o=e.getLength(),i=Math.max(this.width,this.height)/o*10,r=e.rotate(-90).scale(i);return new B(n.add(r),n.subtract(r))},L.prototype.setBackTransform=function(t){var e=this.flipPointHorizontally(this.corner),n=(this.peelLineRotation-90)*2,o=t.subtract(e.rotate(n)),i="translate("+l(o.x)+"px, "+l(o.y)+"px) rotate("+l(n)+"deg)";f(this.backLayer,i),f(this.topShadowElement,i)},L.prototype.getPeelLineDistance=function(){this.peelLineRotation<90?(t=L.Corners.TOP_RIGHT,e=L.Corners.BOTTOM_LEFT):this.peelLineRotation<180?(t=L.Corners.BOTTOM_RIGHT,e=L.Corners.TOP_LEFT):this.peelLineRotation<270?(t=L.Corners.BOTTOM_LEFT,e=L.Corners.TOP_RIGHT):this.peelLineRotation<360&&(t=L.Corners.TOP_LEFT,e=L.Corners.BOTTOM_RIGHT),n=this.getCornerPoint(t);var t,e,n,o=this.getCornerPoint(e),i=new B(n,o).scale(2),r=this.peelLineSegment.getIntersectPoint(i);return r?n.subtract(r).getLength()/n.subtract(o).getLength():2},L.prototype.setEffects=function(){var t=this.getPeelLineDistance();this.setTopShadow(t),this.setBackShadow(t),this.setBackReflection(t),this.setBottomShadow(t),this.setFade()},L.prototype.setTopShadow=function(t){if(this.getOption("topShadow")){var e,n,r=this.getOption("topShadowBlur"),s=this.getOption("topShadowOffsetX"),a=this.getOption("topShadowOffsetY"),h=this.getOption("topShadowAlpha"),p=this.exponential(t,5,h);this.usesBoxShadow?(e=this.topShadowElement,e.style[o]=g(s,a,r,0,p)):(n=this.topShadowElement,n.style[i]="drop-shadow("+g(s,a,r,null,p)+")")}},L.prototype.distributeOrLinear=function(t,e,n){return e?2*(n||1)*(.5-Math.abs(t-.5)):t*n},L.prototype.exponential=function(t,e,n){return n*u(Math.pow(1+t,e)-1)},L.prototype.setBackReflection=function(t){var e=[];if(this.canSetLinearEffect("backReflection",t)){var n=this.getOption("backReflectionDistribute"),o=this.getOption("backReflectionSize"),i=this.getOption("backReflectionOffset"),r=this.getOption("backReflectionAlpha"),s=this.distributeOrLinear(t,n,o),a=t-i,h=a-s;e.push(P(0,0)),e.push(P(0,h-s)),e.push(P(r,h)),e.push(P(0,a))}w(this.backReflectionElement,180-this.peelLineRotation,e)},L.prototype.setBackShadow=function(t){var e=[];if(this.canSetLinearEffect("backShadow",t)){var n=this.getOption("backShadowSize"),o=this.getOption("backShadowOffset"),i=this.getOption("backShadowAlpha"),r=this.getOption("backShadowDistribute"),s=this.distributeOrLinear(t,r,n),a=t-o,h=a-s;e.push(v(0,0)),e.push(v(0,h-s)),e.push(v(i,h)),e.push(v(i,a))}w(this.backShadowElement,180-this.peelLineRotation,e)},L.prototype.setBottomShadow=function(t){var e=[];if(this.canSetLinearEffect("bottomShadow",t)){var n=this.getOption("bottomShadowSize"),o=this.getOption("bottomShadowOffset"),i=this.getOption("bottomShadowDarkAlpha"),r=this.getOption("bottomShadowLightAlpha"),s=this.getOption("bottomShadowDistribute"),a=t-(.025-o),h=a-this.distributeOrLinear(t,s,.03)*n-o;e=[v(0,0),v(0,h-(.02*n-o)),v(r,h),v(r,a),v(i,t)]}w(this.bottomShadowElement,this.peelLineRotation+180,e)},L.prototype.canSetLinearEffect=function(t,e){return this.getOption(t)&&e>0},L.prototype.setFade=function(){var t,e=this.fadeThreshold,n=1;e&&((t=void 0!==this.timeAlongPath?this.timeAlongPath:this.getAmountClipped())>e&&(n=(1-t)/(1-e)),y(this.topLayer,n),y(this.backLayer,n),y(this.bottomShadowElement,n))},L.prototype.flipPointHorizontally=function(t){return new M(t.x-(t.x-this.center.x)*2,t.y)},L.prototype.init=function(){this.getOption("setPeelOnInit")&&this.setPeelPosition(this.corner),E(this.el,d("ready"))},x.createClipPath=function(t,n,o){var i,r=x.getId(),s=C("clipPath",o),a=C(n.type,s,n.attributes);return T(s,"id",r),i="url(#"+r+")",t.style[e]=i,a},x.getId=function(){return"svg-clip-"+function(){if(!crypto||!crypto.getRandomValues)return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15);var t=new Uint32Array(4);return crypto.getRandomValues(t),t.join("").replace(/[^a-zA-Z0-9]/g,"")}()},x.prototype.setPoints=function(t){var e=t.map(function(t){return l(t.x)+","+l(t.y)}).join(" ");T(this.shape,"points",e)},R.prototype.containsPoint=function(t){if(this.boundingRectContainsPoint(t)){var e=this.center.x-t.x,n=this.center.y-t.y;e*=e,n*=n;var o=e+n,i=this.radius*this.radius;return o<=i}return!1},R.prototype.boundingRectContainsPoint=function(t){return t.x>=this.center.x-this.radius&&t.x<=this.center.x+this.radius&&t.y>=this.center.y-this.radius&&t.y<=this.center.y+this.radius},R.prototype.constrainPoint=function(t){if(!this.containsPoint(t)){var e=t.subtract(this.center).getAngle();t=this.center.add(new M(this.radius,0).rotate(e))}return t},A.getArea=function(t){var e=0,n=0;return t.forEach(function(t,o,i){var r=i[(o+1)%i.length];e+=t.x*r.y,n+=t.y*r.x}),(e-n)/2},A.prototype.addPoint=function(t){this.points.push(t)},A.prototype.getPoints=function(){return this.points},D.prototype.getPointForTime=function(t){var e=Math.pow(1-t,3),n=3*t*Math.pow(1-t,2),o=3*Math.pow(t,2)*(1-t),i=Math.pow(t,3);return new M(e*this.p1.x+n*this.c1.x+o*this.c2.x+i*this.p2.x,e*this.p1.y+n*this.c1.y+o*this.c2.y+i*this.p2.y)},B.EPSILON=1e-6,B.prototype.getPointForTime=function(t){return this.p1.add(this.getVector().scale(t))},B.prototype.scale=function(t){return new B(this.p1.add(this.p2.subtract(this.p1).scale(t)),this.p2.add(this.p1.subtract(this.p2).scale(t)))},B.prototype.getPointDeterminant=function(t){var e=(t.x-this.p1.x)*(this.p2.y-this.p1.y)-(t.y-this.p1.y)*(this.p2.x-this.p1.x);return e>-B.EPSILON&&e<B.EPSILON&&(e=0),e},B.prototype.getIntersectPoint=function(t){function e(t,e){return t.x*e.y-t.y*e.x}var n=this.p2.subtract(this.p1),o=t.p2.subtract(t.p1),i=e(t.p1.subtract(this.p1),n),r=e(n,o);if(0==r)return null;var s=i/r,a=e(t.p1.subtract(this.p1),o)/r;return a>=0&&a<=1&&s>=0&&s<=1?this.p1.add(n.scale(a)):null},B.prototype.getAngle=function(){return this.getVector().getAngle()},B.prototype.getVector=function(){return this.vector||(this.vector=this.p2.subtract(this.p1)),this.vector},M.DEGREES_IN_RADIANS=180/Math.PI,M.degToRad=function(t){return t/M.DEGREES_IN_RADIANS},M.radToDeg=function(t){for(var e=t*M.DEGREES_IN_RADIANS;e<0;)e+=360;return e},M.vector=function(t,e){var n=M.degToRad(t);return new M(Math.cos(n)*e,Math.sin(n)*e)},M.prototype.add=function(t){return new M(this.x+t.x,this.y+t.y)},M.prototype.subtract=function(t){return new M(this.x-t.x,this.y-t.y)},M.prototype.scale=function(t){return new M(this.x*t,this.y*t)},M.prototype.getLength=function(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))},M.prototype.getAngle=function(){return M.radToDeg(Math.atan2(this.y,this.x))},M.prototype.setAngle=function(t){return M.vector(t,this.getLength())},M.prototype.rotate=function(t){return this.setAngle(this.getAngle()+t)},e=c("clipPath"),n=c("transform"),o=c("boxShadow"),i=c("filter"),(t=document.createElement("div").style).cssText="background:linear-gradient(45deg,#9f9,white);",s=(t.backgroundImage||"").indexOf("gradient")>-1,L.supported=!!(e&&n),L.effectsSupported=s,L}())(u.current,function(t){let e={...t};return delete e.corner,e}(b));if(d.current=t,e&&("function"==typeof e?e(t):e.current=t),l.peelPosition&&d.current&&d.current.setPeelPosition(l.peelPosition.x,l.peelPosition.y),m&&d.current)if(Object.prototype.hasOwnProperty.call(m,"x")&&Object.prototype.hasOwnProperty.call(m,"y")){let{x:t,y:e}=m;d.current.setCorner(t,e)}else h(m)&&d.current.setCorner(function(t){return r[t]}(m));if(l.preset){let t=s[l.preset];t.constraints&&t.constraints.forEach(t=>{var e;null==(e=d.current)||e.addPeelConstraint(function(t){return r[t]}(t))})}if(l.constraints&&(Array.isArray(l.constraints)?l.constraints.forEach(t=>{k(t)}):k(l.constraints)),S&&d.current&&d.current.setMode(S),l.fadeThreshold&&d.current&&d.current.setFadeThreshold(l.fadeThreshold),l.peelPath&&Array.isArray(l.peelPath)&&d.current&&d.current.setPeelPath(...l.peelPath),!l.disabled){var n,o,i;l.drag&&(null==(n=d.current)||n.handleDrag(function(t,e,n){var o;l.disabled||(P(),null==(o=d.current)||o.setPeelPosition(e,n),v(),O())})),l.handleDrag&&(null==(o=d.current)||o.handleDrag((t,e,n)=>{var o;l.disabled||(P(),null==(o=l.handleDrag)||o.call(l,t,e,n,d.current),v(),O())})),l.handlePress&&(null==(i=d.current)||i.handlePress(t=>{var e;l.disabled||null==(e=l.handlePress)||e.call(l,t,d.current)}))}}(),()=>{d.current&&(d.current.clear(),d.current=null,y.current=!1)}},[]),(0,i.useEffect)(()=>{if(l.timeAlongPath){var t;null==(t=d.current)||t.setTimeAlongPath(l.timeAlongPath),v()}},[l.timeAlongPath,v]),(0,i.useEffect)(()=>{if(l.peelPosition){var t;null==(t=d.current)||t.setPeelPosition(l.peelPosition.x,l.peelPosition.y),v()}},[l.peelPosition,v]),(0,i.useEffect)(()=>{if(m){var t,e;if(Object.prototype.hasOwnProperty.call(m,"x")&&Object.prototype.hasOwnProperty.call(m,"y")){let{x:e,y:n}=m;null==(t=d.current)||t.setCorner(e,n)}else h(m)&&(null==(e=d.current)||e.setCorner(function(t){return r[t]}(m)))}},[m]),(0,i.useEffect)(()=>{if(l.peelPath&&Array.isArray(l.peelPath)){var t;null==(t=d.current)||t.setPeelPath(...l.peelPath)}},[l.peelPath]),(0,i.useEffect)(()=>{if(S){var t;null==(t=d.current)||t.setMode(S)}},[S]),(0,i.useEffect)(()=>{if(l.fadeThreshold){var t;null==(t=d.current)||t.setFadeThreshold(l.fadeThreshold)}},[l.fadeThreshold]),(0,i.useEffect)(()=>{l.constraints&&(Array.isArray(l.constraints)?l.constraints.forEach(t=>{k(t)}):k(l.constraints))},[l.constraints]),(0,o.jsx)("div",{ref:u,className:"peel "+((null==l?void 0:l.className)||""),...p,style:{height:l.height||"100%",width:l.width||"100%",pointerEvents:l.disabled?"none":void 0,...null==p?void 0:p.style},"aria-disabled":l.disabled,children:n})});function h(t){return"string"==typeof t&&Object.keys(r).includes(t)}function p(t){return r[t]}a.displayName="PeelWrapper";let c=()=>{(0,i.useEffect)(()=>{if(document.getElementById("react-peel-styles"))return;let t=document.createElement("style");return t.id="react-peel-styles",t.innerHTML=`
    .peel {
      position: relative;
      opacity: 0;
    }
    
    .peel-ready {
      opacity: 1;
    }
    
    .peel-svg-clip-element {
      position: absolute;
      top: -10000px;
      left: -10000px;
      width: 1px;
      height: 1px;
      opacity: 0;
    }
    
    .peel-layer {
      position: absolute;
      z-index: 1;
      width: 100%;
      height: 100%;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
      -webkit-user-select: none;
      -moz-user-select: none;
      user-select: none;
      -webkit-transform-origin: top left;
      -moz-transform-origin: top left;
      transform-origin: top left;
    }
    `,document.head.appendChild(t),()=>{let t=document.getElementById("react-peel-styles");t&&document.head.removeChild(t)}},[])},l=(0,i.forwardRef)(function(t,e){let{className:n="",...i}=t;return(0,o.jsx)("div",{ref:e,className:"peel-top "+n,...i})});l.displayName="PeelTop";let u=(0,i.forwardRef)(function(t,e){let{className:n="",...i}=t;return(0,o.jsx)("div",{ref:e,className:"peel-back "+n,...i})});u.displayName="PeelBack";let d=(0,i.forwardRef)(function(t,e){let{className:n="",...i}=t;return(0,o.jsx)("div",{ref:e,className:"peel-bottom "+n,...i})});d.displayName="PeelBottom"}}]);